<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English 700: –ó–æ–ª–æ—Ç–æ–π –ó–∞–ø–∞—Å</title>
    <style>
        :root { --bg: #f0f4f8; --card: #ffffff; --text: #2c3e50; --accent: #27ae60; --error: #e74c3c; --blue: #3498db; --gold: #f1c40f; }
        body.dark { --bg: #1a1a2e; --card: #16213e; --text: #e9e9e9; --accent: #0f9d58; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); display: flex; justify-content: center; padding: 20px; transition: 0.3s; margin: 0; }
        .container { max-width: 550px; width: 100%; text-align: center; padding: 10px; }
        .progress-container { width: 100%; height: 10px; background: #dcdde1; border-radius: 5px; margin: 15px 0; overflow: hidden; }
        .progress-bar { height: 100%; width: 0%; background: var(--accent); transition: 0.5s; }
        .card { background: var(--card); padding: 30px; border-radius: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); min-height: 280px; display: flex; flex-direction: column; justify-content: center; border: 4px solid transparent; position: relative; }
        .word-main { font-size: clamp(30px, 8vw, 48px); font-weight: bold; color: var(--blue); margin-bottom: 10px; }
        .word-sub { font-size: clamp(20px, 5vw, 28px); color: #7f8c8d; min-height: 35px; }
        input[type="text"] { width: 90%; padding: 12px; font-size: 20px; border-radius: 10px; border: 2px solid #bdc3c7; text-align: center; margin-top: 15px; background: var(--card); color: var(--text); }
        .controls { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 20px; }
        button { padding: 18px; font-size: 16px; border-radius: 15px; border: none; cursor: pointer; font-weight: bold; transition: 0.2s; }
        .btn-full { grid-column: span 2; background: var(--blue); color: white; }
        .btn-yes { background: var(--accent); color: white; }
        .btn-no { background: #95a5a6; color: white; }
        .btn-exam { background: var(--gold); color: black; grid-column: span 2; }
        .top-nav { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); align-items:center; justify-content:center; z-index:100; }
        .modal-content { background:var(--card); padding:20px; border-radius:20px; width:90%; max-height: 80vh; overflow-y: auto; }
        textarea { width: 100%; height: 250px; font-family: monospace; padding: 10px; box-sizing: border-box; }
        .success { border-color: var(--accent); }
        .fail { border-color: var(--error); }
    </style>
</head>
<body class="dark">

<div class="container">
    <div class="top-nav">
        <button onclick="toggleTheme()" style="padding: 8px; background: #57606f; color: white;">üåì –¢–µ–º–∞</button>
        <span id="mode-badge" style="font-weight: bold; font-size: 14px;">–ì–û–¢–û–í</span>
        <button onclick="toggleModal(true)" style="padding: 8px; background: #57606f; color: white;">‚öôÔ∏è –°–ª–æ–≤–∞</button>
    </div>

    <div class="progress-container"><div id="progress" class="progress-bar"></div></div>
    
    <div class="card" id="card">
        <div id="display-top" class="word-main">English 700</div>
        <div id="display-bottom" class="word-sub">–ù–∞–∂–º–∏—Ç–µ –ù–∞—á–∞—Ç—å</div>
        <div id="input-area" style="display:none;"><input type="text" id="writingInput" placeholder="–ü–µ—Ä–µ–≤–æ–¥..." autocomplete="off"></div>
    </div>

    <div class="controls" id="controls">
        <button class="btn-full" onclick="startSession()">–ù–∞—á–∞—Ç—å –£—Ä–æ–∫ (10 —Å–ª–æ–≤)</button>
    </div>
    
    <div id="status" style="margin-top:15px; min-height: 20px; font-weight: bold;"></div>
</div>

<div id="modal" class="modal">
    <div class="modal-content">
        <h3>–í–∞—à —Å–ª–æ–≤–∞—Ä—å (700 —Å–ª–æ–≤)</h3>
        <p style="font-size: 12px;">–í—ã –º–æ–∂–µ—Ç–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Ä—É—á–Ω—É—é:</p>
        <textarea id="wordsInput"></textarea>
        <button class="btn-yes" onclick="saveSettings()" style="width:100%; margin-top:10px;">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
        <button class="btn-no" onclick="resetToDefault()" style="width:100%; margin-top:10px;">–°–±—Ä–æ—Å–∏—Ç—å –¥–æ 700 —Å–ª–æ–≤</button>
        <button class="btn-no" onclick="toggleModal(false)" style="width:100%; margin-top:10px;">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
</div>

<script>
// –ü–û–õ–ù–ê–Ø –ë–ê–ó–ê 700 –°–õ–û–í
const gold700 = [
"the - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –∞—Ä—Ç–∏–∫–ª—å", "be - –±—ã—Ç—å", "and - –∏", "of - –ø—Ä–µ–¥–ª–æ–≥ —Ä–æ–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–∞–¥–µ–∂–∞", "a - –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –∞—Ä—Ç–∏–∫–ª—å", "in - –≤", "to - –∫, –≤", "have - –∏–º–µ—Ç—å", "it - —ç—Ç–æ", "i - —è", "that - —Ç–æ—Ç, —á—Ç–æ", "for - –¥–ª—è", "you - —Ç—ã, –≤—ã", "he - –æ–Ω", "with - —Å", "on - –Ω–∞", "do - –¥–µ–ª–∞—Ç—å", "say - –≥–æ–≤–æ—Ä–∏—Ç—å", "this - —ç—Ç–æ—Ç", "they - –æ–Ω–∏", "at - —É, –≤", "but - –Ω–æ", "we - –º—ã", "his - –µ–≥–æ", "from - –∏–∑, –æ—Ç", "not - –Ω–µ", "by - –∫, –ø—É—Ç–µ–º", "she - –æ–Ω–∞", "or - –∏–ª–∏", "as - –∫–∞–∫", "what - —á—Ç–æ", "go - –∏–¥—Ç–∏", "their - –∏—Ö", "can - –º–æ—á—å", "who - –∫—Ç–æ", "get - –ø–æ–ª—É—á–∞—Ç—å", "if - –µ—Å–ª–∏", "would - —á–∞—Å—Ç–∏—Ü–∞ –±—ã", "her - –µ—ë", "all - –≤—Å–µ", "my - –º–æ–π", "make - –¥–µ–ª–∞—Ç—å, —Å–æ–∑–¥–∞–≤–∞—Ç—å", "about - –æ, –æ–∫–æ–ª–æ", "know - –∑–Ω–∞—Ç—å", "will - –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –≥–ª–∞–≥–æ–ª –±—É–¥—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏", "up - –≤–≤–µ—Ä—Ö", "one - –æ–¥–∏–Ω", "time - –≤—Ä–µ–º—è", "there - —Ç–∞–º", "year - –≥–æ–¥", "so - —Ç–∞–∫, –ø–æ—ç—Ç–æ–º—É", "think - –¥—É–º–∞—Ç—å", "when - –∫–æ–≥–¥–∞", "which - –∫–æ—Ç–æ—Ä—ã–π", "them - –∏—Ö, –∏–º", "some - –Ω–µ—Å–∫–æ–ª—å–∫–æ", "me - –º–Ω–µ, –º–µ–Ω—è", "people - –ª—é–¥–∏", "take - –±—Ä–∞—Ç—å", "out - –∏–∑, —Å–Ω–∞—Ä—É–∂–∏", "into - –≤–Ω—É—Ç—Ä—å", "just - —Ç–æ–ª—å–∫–æ —á—Ç–æ, –ø—Ä–æ—Å—Ç–æ", "see - –≤–∏–¥–µ—Ç—å", "him - –µ–≥–æ, –µ–º—É", "your - —Ç–≤–æ–π, –≤–∞—à", "come - –ø—Ä–∏—Ö–æ–¥–∏—Ç—å", "could - –º–æ–≥", "now - —Å–µ–π—á–∞—Å", "than - —á–µ–º", "like - –∫–∞–∫, –Ω—Ä–∞–≤–∏—Ç—å—Å—è", "other - –¥—Ä—É–≥–æ–π", "how - –∫–∞–∫", "then - —Ç–æ–≥–¥–∞", "its - –µ–≥–æ (–Ω–µ–æ–¥—É—à.)", "our - –Ω–∞—à", "two - –¥–≤–∞", "more - –±–æ–ª—å—à–µ", "these - —ç—Ç–∏", "want - —Ö–æ—Ç–µ—Ç—å", "way - –ø—É—Ç—å, —Å–ø–æ—Å–æ–±", "look - —Å–º–æ—Ç—Ä–µ—Ç—å", "first - –ø–µ—Ä–≤—ã–π", "also - —Ç–∞–∫–∂–µ", "new - –Ω–æ–≤—ã–π", "because - –ø–æ—Ç–æ–º—É —á—Ç–æ", "day - –¥–µ–Ω—å", "more - –±–æ–ª—å—à–µ", "use - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å", "no - –Ω–µ—Ç", "man - –º—É–∂—á–∏–Ω–∞", "find - –Ω–∞—Ö–æ–¥–∏—Ç—å", "here - –∑–¥–µ—Å—å", "thing - –≤–µ—â—å", "give - –¥–∞–≤–∞—Ç—å", "many - –º–Ω–æ–≥–∏–µ", "well - —Ö–æ—Ä–æ—à–æ", "only - —Ç–æ–ª—å–∫–æ", "those - —Ç–µ", "tell - —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—Ç—å", "one - –æ–¥–∏–Ω", "very - –æ—á–µ–Ω—å", "her - –µ—ë", "even - –¥–∞–∂–µ", "back - –Ω–∞–∑–∞–¥, —Å–ø–∏–Ω–∞", "any - –ª—é–±–æ–π", "good - —Ö–æ—Ä–æ—à–∏–π", "woman - –∂–µ–Ω—â–∏–Ω–∞", "through - —á–µ—Ä–µ–∑", "us - –Ω–∞–º, –Ω–∞—Å", "life - –∂–∏–∑–Ω—å", "child - —Ä–µ–±–µ–Ω–æ–∫", "work - —Ä–∞–±–æ—Ç–∞", "down - –≤–Ω–∏–∑", "may - –º–æ–∂–µ—Ç (–±—ã—Ç—å)", "after - –ø–æ—Å–ª–µ", "should - —Å–ª–µ–¥—É–µ—Ç", "call - –∑–≤–æ–Ω–∏—Ç—å, –Ω–∞–∑—ã–≤–∞—Ç—å", "world - –º–∏—Ä", "over - –Ω–∞–¥, –∑–∞–∫–æ–Ω—á–µ–Ω–æ", "school - —à–∫–æ–ª–∞", "still - –≤—Å–µ –µ—â–µ", "try - –ø—ã—Ç–∞—Ç—å—Å—è", "last - –ø–æ—Å–ª–µ–¥–Ω–∏–π", "ask - —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å", "need - –Ω—É–∂–¥–∞—Ç—å—Å—è", "too - —Ç–æ–∂–µ, —Å–ª–∏—à–∫–æ–º", "feel - —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å", "three - —Ç—Ä–∏", "state - —Å–æ—Å—Ç–æ—è–Ω–∏–µ, —à—Ç–∞—Ç", "never - –Ω–∏–∫–æ–≥–¥–∞", "become - —Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è", "between - –º–µ–∂–¥—É", "high - –≤—ã—Å–æ–∫–∏–π", "really - –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ", "something - —á—Ç–æ-—Ç–æ", "most - —Å–∞–º—ã–π, –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ", "another - –¥—Ä—É–≥–æ–π", "much - –º–Ω–æ–≥–æ", "family - —Å–µ–º—å—è", "own - —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π", "leave - –æ—Å—Ç–∞–≤–ª—è—Ç—å, —É—Ö–æ–¥–∏—Ç—å", "put - –∫–ª–∞—Å—Ç—å", "old - —Å—Ç–∞—Ä—ã–π", "while - –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫", "mean - –∑–Ω–∞—á–∏—Ç—å", "keep - –¥–µ—Ä–∂–∞—Ç—å, —Ö—Ä–∞–Ω–∏—Ç—å", "student - —Å—Ç—É–¥–µ–Ω—Ç", "why - –ø–æ—á–µ–º—É", "let - –ø–æ–∑–≤–æ–ª—è—Ç—å", "great - –≤–µ–ª–∏–∫–∏–π, –æ—Ç–ª–∏—á–Ω—ã–π", "same - —Ç–æ—Ç –∂–µ —Å–∞–º—ã–π", "big - –±–æ–ª—å—à–æ–π", "group - –≥—Ä—É–ø–ø–∞", "begin - –Ω–∞—á–∏–Ω–∞—Ç—å", "seem - –∫–∞–∑–∞—Ç—å—Å—è", "country - —Å—Ç—Ä–∞–Ω–∞", "help - –ø–æ–º–æ–≥–∞—Ç—å", "talk - —Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞—Ç—å", "where - –≥–¥–µ", "turn - –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å", "problem - –ø—Ä–æ–±–ª–µ–º–∞", "every - –∫–∞–∂–¥—ã–π", "start - –Ω–∞—á–∏–Ω–∞—Ç—å", "hand - —Ä—É–∫–∞", "might - –º–æ–∂–µ—Ç –±—ã—Ç—å", "american - –∞–º–µ—Ä–∏–∫–∞–Ω–µ—Ü", "show - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å", "part - —á–∞—Å—Ç—å", "about - –æ, –≤–æ–∫—Ä—É–≥", "against - –ø—Ä–æ—Ç–∏–≤", "place - –º–µ—Å—Ç–æ", "over - –Ω–∞–¥", "such - —Ç–∞–∫–æ–π", "again - —Å–Ω–æ–≤–∞", "few - –º–∞–ª–æ", "case - —Å–ª—É—á–∞–π", "week - –Ω–µ–¥–µ–ª—è", "company - –∫–æ–º–ø–∞–Ω–∏—è", "system - —Å–∏—Å—Ç–µ–º–∞", "each - –∫–∞–∂–¥—ã–π", "right - –ø—Ä–∞–≤—ã–π, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π", "program - –ø—Ä–æ–≥—Ä–∞–º–º–∞", "hear - —Å–ª—ã—à–∞—Ç—å", "so - —Ç–∞–∫", "question - –≤–æ–ø—Ä–æ—Å", "during - –≤ —Ç–µ—á–µ–Ω–∏–µ", "work - —Ä–∞–±–æ—Ç–∞", "play - –∏–≥—Ä–∞—Ç—å", "government - –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ", "run - –±–µ–∂–∞—Ç—å", "small - –º–∞–ª–µ–Ω—å–∫–∏–π", "number - —á–∏—Å–ª–æ", "off - –æ—Ç, –≤—ã–∫–ª—é—á–µ–Ω–æ", "always - –≤—Å–µ–≥–¥–∞", "move - –¥–≤–∏–≥–∞—Ç—å—Å—è", "night - –Ω–æ—á—å", "live - –∂–∏—Ç—å", "mr - –º–∏—Å—Ç–µ—Ä", "point - —Ç–æ—á–∫–∞, —É–∫–∞–∑—ã–≤–∞—Ç—å", "believe - –≤–µ—Ä–∏—Ç—å", "hold - –¥–µ—Ä–∂–∞—Ç—å", "today - —Å–µ–≥–æ–¥–Ω—è", "bring - –ø—Ä–∏–Ω–æ—Å–∏—Ç—å", "happen - —Å–ª—É—á–∞—Ç—å—Å—è", "next - —Å–ª–µ–¥—É—é—â–∏–π", "without - –±–µ–∑", "before - –¥–æ", "large - –±–æ–ª—å—à–æ–π", "million - –º–∏–ª–ª–∏–æ–Ω", "must - –¥–æ–ª–∂–µ–Ω", "home - –¥–æ–º", "under - –ø–æ–¥", "water - –≤–æ–¥–∞", "room - –∫–æ–º–Ω–∞—Ç–∞", "write - –ø–∏—Å–∞—Ç—å", "mother - –º–∞—Ç—å", "area - –æ–±–ª–∞—Å—Ç—å", "national - –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π", "money - –¥–µ–Ω—å–≥–∏", "story - –∏—Å—Ç–æ—Ä–∏—è", "young - –º–æ–ª–æ–¥–æ–π", "fact - —Ñ–∞–∫—Ç", "month - –º–µ—Å—è—Ü", "different - —Ä–∞–∑–Ω—ã–π", "lot - –º–Ω–æ–≥–æ", "right - –ø—Ä–∞–≤–æ", "study - –∏–∑—É—á–∞—Ç—å", "book - –∫–Ω–∏–≥–∞", "eye - –≥–ª–∞–∑", "job - —Ä–∞–±–æ—Ç–∞", "word - —Å–ª–æ–≤–æ", "though - —Ö–æ—Ç—è", "business - –±–∏–∑–Ω–µ—Å", "issue - –≤—ã–ø—É—Å–∫, –ø—Ä–æ–±–ª–µ–º–∞", "side - —Å—Ç–æ—Ä–æ–Ω–∞", "kind - –≤–∏–¥, –¥–æ–±—Ä—ã–π", "four - —á–µ—Ç—ã—Ä–µ", "head - –≥–æ–ª–æ–≤–∞", "far - –¥–∞–ª–µ–∫–æ", "black - —á–µ—Ä–Ω—ã–π", "long - –¥–ª–∏–Ω–Ω—ã–π", "both - –æ–±–∞", "little - –º–∞–ª–µ–Ω—å–∫–∏–π", "house - –¥–æ–º", "yes - –¥–∞", "since - —Å —Ç–µ—Ö –ø–æ—Ä", "long - –¥–æ–ª–≥–æ", "provide - –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å", "service - —Å–ª—É–∂–±–∞", "around - –≤–æ–∫—Ä—É–≥", "friend - –¥—Ä—É–≥", "important - –≤–∞–∂–Ω—ã–π", "father - –æ—Ç–µ—Ü", "sit - —Å–∏–¥–µ—Ç—å", "away - –ø—Ä–æ—á—å", "until - –¥–æ —Ç–µ—Ö –ø–æ—Ä –ø–æ–∫–∞", "power - —Å–∏–ª–∞, –≤–ª–∞—Å—Ç—å", "hour - —á–∞—Å", "game - –∏–≥—Ä–∞", "often - —á–∞—Å—Ç–æ", "yet - –µ—â–µ", "line - –ª–∏–Ω–∏—è", "political - –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π", "end - –∫–æ–Ω–µ—Ü", "among - —Å—Ä–µ–¥–∏", "ever - –∫–æ–≥–¥–∞-–ª–∏–±–æ", "stand - —Å—Ç–æ—è—Ç—å", "bad - –ø–ª–æ—Ö–æ–π", "lose - —Ç–µ—Ä—è—Ç—å", "however - –æ–¥–Ω–∞–∫–æ", "member - —É—á–∞—Å—Ç–Ω–∏–∫", "pay - –ø–ª–∞—Ç–∏—Ç—å", "law - –∑–∞–∫–æ–Ω", "meet - –≤—Å—Ç—Ä–µ—á–∞—Ç—å", "car - –º–∞—à–∏–Ω–∞", "city - –≥–æ—Ä–æ–¥", "almost - –ø–æ—á—Ç–∏", "include - –≤–∫–ª—é—á–∞—Ç—å –≤ —Å–µ–±—è", "continue - –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å", "set - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å", "later - –ø–æ–∑–∂–µ", "community - —Å–æ–æ–±—â–µ—Å—Ç–≤–æ", "much - –º–Ω–æ–≥–æ", "name - –∏–º—è", "five - –ø—è—Ç—å", "once - –æ–¥–Ω–∞–∂–¥—ã", "white - –±–µ–ª—ã–π", "least - –Ω–∞–∏–º–µ–Ω–µ–µ", "president - –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç", "learn - —É—á–∏—Ç—å", "real - –Ω–∞—Å—Ç–æ—è—â–∏–π", "change - –º–µ–Ω—è—Ç—å", "team - –∫–æ–º–∞–Ω–¥–∞", "minute - –º–∏–Ω—É—Ç–∞", "best - –ª—É—á—à–∏–π", "several - –Ω–µ—Å–∫–æ–ª—å–∫–æ", "idea - –∏–¥–µ—è", "kid - —Ä–µ–±–µ–Ω–æ–∫", "body - —Ç–µ–ª–æ", "information - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è", "nothing - –Ω–∏—á–µ–≥–æ", "ago - –Ω–∞–∑–∞–¥", "right - –≤–µ—Ä–Ω–æ", "lead - –≤–µ—Å—Ç–∏", "social - —Å–æ—Ü–∏–∞–ª—å–Ω—ã–π", "understand - –ø–æ–Ω–∏–º–∞—Ç—å", "whether - –ª–∏", "watch - —Å–º–æ—Ç—Ä–µ—Ç—å, —á–∞—Å—ã", "together - –≤–º–µ—Å—Ç–µ", "follow - —Å–ª–µ–¥–æ–≤–∞—Ç—å", "parent - —Ä–æ–¥–∏—Ç–µ–ª—å", "stop - –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è", "face - –ª–∏—Ü–æ", "anything - —á—Ç–æ —É–≥–æ–¥–Ω–æ", "create - —Å–æ–∑–¥–∞–≤–∞—Ç—å", "public - –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π", "already - —É–∂–µ", "speak - –≥–æ–≤–æ—Ä–∏—Ç—å", "others - –¥—Ä—É–≥–∏–µ", "read - —á–∏—Ç–∞—Ç—å", "level - —É—Ä–æ–≤–µ–Ω—å", "allow - –ø–æ–∑–≤–æ–ª—è—Ç—å", "add - –¥–æ–±–∞–≤–ª—è—Ç—å", "office - –æ—Ñ–∏—Å", "spend - —Ç—Ä–∞—Ç–∏—Ç—å", "door - –¥–≤–µ—Ä—å", "health - –∑–¥–æ—Ä–æ–≤—å–µ", "person - —á–µ–ª–æ–≤–µ–∫", "art - –∏—Å–∫—É—Å—Å—Ç–≤–æ", "sure - —É–≤–µ—Ä–µ–Ω–Ω—ã–π", "war - –≤–æ–π–Ω–∞", "history - –∏—Å—Ç–æ—Ä–∏—è", "party - –ø–∞—Ä—Ç–∏—è, –≤–µ—á–µ—Ä–∏–Ω–∫–∞", "within - –≤–Ω—É—Ç—Ä–∏", "grow - —Ä–∞—Å—Ç–∏", "result - —Ä–µ–∑—É–ª—å—Ç–∞—Ç", "open - –æ—Ç–∫—Ä—ã–≤–∞—Ç—å", "morning - —É—Ç—Ä–æ", "walk - –∏–¥—Ç–∏ –ø–µ—à–∫–æ–º", "reason - –ø—Ä–∏—á–∏–Ω–∞", "low - –Ω–∏–∑–∫–∏–π", "win - –ø–æ–±–µ–∂–¥–∞—Ç—å", "research - –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ", "girl - –¥–µ–≤–æ—á–∫–∞", "guy - –ø–∞—Ä–µ–Ω—å", "early - —Ä–∞–Ω–Ω–∏–π", "food - –µ–¥–∞", "moment - –º–æ–º–µ–Ω—Ç", "himself - —Å–∞–º", "air - –≤–æ–∑–¥—É—Ö", "teacher - —É—á–∏—Ç–µ–ª—å", "force - —Å–∏–ª–∞", "offer - –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å", "enough - –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ", "education - –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ", "across - —á–µ—Ä–µ–∑", "although - —Ö–æ—Ç—è", "remember - –ø–æ–º–Ω–∏—Ç—å", "foot - –Ω–æ–≥–∞", "second - –≤—Ç–æ—Ä–æ–π", "boy - –º–∞–ª—å—á–∏–∫", "maybe - –º–æ–∂–µ—Ç –±—ã—Ç—å", "toward - –ø–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é –∫", "able - —Å–ø–æ—Å–æ–±–Ω—ã–π", "age - –≤–æ–∑—Ä–∞—Å—Ç", "policy - –ø–æ–ª–∏—Ç–∏–∫–∞", "everything - –≤—Å—ë", "love - –ª—é–±–æ–≤—å", "process - –ø—Ä–æ—Ü–µ—Å—Å", "music - –º—É–∑—ã–∫–∞", "including - –≤–∫–ª—é—á–∞—è", "consider - —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å", "appear - –ø–æ—è–≤–ª—è—Ç—å—Å—è", "actually - –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ", "buy - –ø–æ–∫—É–ø–∞—Ç—å", "probably - –≤–µ—Ä–æ—è—Ç–Ω–æ", "human - —á–µ–ª–æ–≤–µ–∫", "wait - –∂–¥–∞—Ç—å", "serve - —Å–ª—É–∂–∏—Ç—å", "market - —Ä—ã–Ω–æ–∫", "die - —É–º–∏—Ä–∞—Ç—å", "send - –ø–æ—Å—ã–ª–∞—Ç—å", "expect - –æ–∂–∏–¥–∞—Ç—å", "home - –¥–æ–º–∞—à–Ω–∏–π", "sense - —Å–º—ã—Å–ª", "build - —Å—Ç—Ä–æ–∏—Ç—å", "stay - –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è", "fall - –ø–∞–¥–∞—Ç—å", "oh - –æ!", "nation - –Ω–∞—Ü–∏—è", "plan - –ø–ª–∞–Ω", "cut - —Ä–µ–∑–∞—Ç—å", "college - –∫–æ–ª–ª–µ–¥–∂", "interest - –∏–Ω—Ç–µ—Ä–µ—Å", "death - —Å–º–µ—Ä—Ç—å", "course - –∫—É—Ä—Å", "someone - –∫—Ç–æ-—Ç–æ", "experience - –æ–ø—ã—Ç", "behind - –ø–æ–∑–∞–¥–∏", "reach - –¥–æ—Å—Ç–∏–≥–∞—Ç—å", "local - –º–µ—Å—Ç–Ω—ã–π", "kill - —É–±–∏–≤–∞—Ç—å", "six - —à–µ—Å—Ç—å", "remain - –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è", "suggest - –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å", "wanted - —Ä–∞–∑—ã—Å–∫–∏–≤–∞–µ–º—ã–π", "raising - –≤–æ—Å–ø–∏—Ç–∞–Ω–∏–µ", "passing - –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ", "needed - –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π", "control - –∫–æ–Ω—Ç—Ä–æ–ª—å", "decide - —Ä–µ—à–∞—Ç—å", "smile - —É–ª—ã–±–∫–∞", "maybe - –≤–æ–∑–º–æ–∂–Ω–æ", "near - –±–ª–∏–∑–∫–æ", "phone - —Ç–µ–ª–µ—Ñ–æ–Ω", "evening - –≤–µ—á–µ—Ä", "step - —à–∞–≥", "ready - –≥–æ—Ç–æ–≤—ã–π", "village - –¥–µ—Ä–µ–≤–Ω—è", "cloud - –æ–±–ª–∞–∫–æ", "sleep - —Å–ø–∞—Ç—å", "dance - —Ç–∞–Ω—Ü–µ–≤–∞—Ç—å", "flower - —Ü–≤–µ—Ç–æ–∫", "river - —Ä–µ–∫–∞", "mountain - –≥–æ—Ä–∞", "animal - –∂–∏–≤–æ—Ç–Ω–æ–µ", "forest - –ª–µ—Å", "weather - –ø–æ–≥–æ–¥–∞", "kitchen - –∫—É—Ö–Ω—è", "garden - —Å–∞–¥", "window - –æ–∫–Ω–æ", "chair - —Å—Ç—É–ª", "table - —Å—Ç–æ–ª", "bread - —Ö–ª–µ–±", "milk - –º–æ–ª–æ–∫–æ", "fruit - —Ñ—Ä—É–∫—Ç", "vegetable - –æ–≤–æ—â", "health - –∑–¥–æ—Ä–æ–≤—å–µ", "strong - —Å–∏–ª—å–Ω—ã–π", "happy - —Å—á–∞—Å—Ç–ª–∏–≤—ã–π", "sad - –≥—Ä—É—Å—Ç–Ω—ã–π", "angry - –∑–ª–æ–π", "scared - –∏—Å–ø—É–≥–∞–Ω–Ω—ã–π", "tired - —É—Å—Ç–∞–≤—à–∏–π", "hungry - –≥–æ–ª–æ–¥–Ω—ã–π", "thirsty - –∂–∞–∂–¥—É—â–∏–π", "expensive - –¥–æ—Ä–æ–≥–æ–π", "cheap - –¥–µ—à–µ–≤—ã–π", "dirty - –≥—Ä—è–∑–Ω—ã–π", "clean - —á–∏—Å—Ç—ã–π", "heavy - —Ç—è–∂–µ–ª—ã–π", "light - –ª–µ–≥–∫–∏–π", "possible - –≤–æ–∑–º–æ–∂–Ω—ã–π", "impossible - –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–π", "important - –≤–∞–∂–Ω—ã–π", "famous - –∑–Ω–∞–º–µ–Ω–∏—Ç—ã–π", "interesting - –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π", "boring - —Å–∫—É—á–Ω—ã–π", "simple - –ø—Ä–æ—Å—Ç–æ–π", "difficult - —Å–ª–æ–∂–Ω—ã–π", "smart - —É–º–Ω—ã–π", "beautiful - –∫—Ä–∞—Å–∏–≤—ã–π", "ugly - —É—Ä–æ–¥–ª–∏–≤—ã–π", "safe - –±–µ–∑–æ–ø–∞—Å–Ω—ã–π", "dangerous - –æ–ø–∞—Å–Ω—ã–π", "lucky - —É–¥–∞—á–ª–∏–≤—ã–π", "careful - –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã–π", "quiet - —Ç–∏—Ö–∏–π", "noisy - —à—É–º–Ω—ã–π", "tall - –≤—ã—Å–æ–∫–∏–π", "short - –∫–æ—Ä–æ—Ç–∫–∏–π", "wide - —à–∏—Ä–æ–∫–∏–π", "narrow - —É–∑–∫–∏–π", "fast - –±—ã—Å—Ç—Ä—ã–π", "slow - –º–µ–¥–ª–µ–Ω–Ω—ã–π", "early - —Ä–∞–Ω–æ", "late - –ø–æ–∑–¥–Ω–æ", "rich - –±–æ–≥–∞—Ç—ã–π", "poor - –±–µ–¥–Ω—ã–π", "full - –ø–æ–ª–Ω—ã–π", "empty - –ø—É—Å—Ç–æ–π", "hot - –≥–æ—Ä—è—á–∏–π", "cold - —Ö–æ–ª–æ–¥–Ω—ã–π", "wet - –º–æ–∫—Ä—ã–π", "dry - —Å—É—Ö–æ–π", "new - –Ω–æ–≤—ã–π", "old - —Å—Ç–∞—Ä—ã–π", "fresh - —Å–≤–µ–∂–∏–π", "rotten - –≥–Ω–∏–ª–æ–π", "sweet - —Å–ª–∞–¥–∫–∏–π", "sour - –∫–∏—Å–ª—ã–π", "bitter - –≥–æ—Ä—å–∫–∏–π", "salty - —Å–æ–ª–µ–Ω—ã–π", "brave - —Å–º–µ–ª—ã–π", "kind - –¥–æ–±—Ä—ã–π", "honest - —á–µ—Å—Ç–Ω—ã–π", "lazy - –ª–µ–Ω–∏–≤—ã–π", "busy - –∑–∞–Ω—è—Ç—ã–π", "free - —Å–≤–æ–±–æ–¥–Ω—ã–π", "young - –º–æ–ª–æ–¥–æ–π", "adult - –≤–∑—Ä–æ—Å–ª—ã–π", "married - –∂–µ–Ω–∞—Ç—ã–π", "single - –æ–¥–∏–Ω–æ–∫–∏–π", "alive - –∂–∏–≤–æ–π", "dead - –º–µ—Ä—Ç–≤—ã–π", "open - –æ—Ç–∫—Ä—ã—Ç—ã–π", "closed - –∑–∞–∫—Ä—ã—Ç—ã–π", "broken - —Å–ª–æ–º–∞–Ω–Ω—ã–π", "ready - –≥–æ—Ç–æ–≤—ã–π", "perfect - –∏–¥–µ–∞–ª—å–Ω—ã–π", "normal - –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π", "strange - —Å—Ç—Ä–∞–Ω–Ω—ã–π", "secret - —Å–µ–∫—Ä–µ—Ç", "public - –ø—É–±–ª–∏—á–Ω—ã–π", "private - —á–∞—Å—Ç–Ω—ã–π", "useful - –ø–æ–ª–µ–∑–Ω—ã–π", "useless - –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã–π", "healthy - –∑–¥–æ—Ä–æ–≤—ã–π", "sick - –±–æ–ª—å–Ω–æ–π", "lost - –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã–π", "found - –Ω–∞–π–¥–µ–Ω–Ω—ã–π"
];

let allWords = JSON.parse(localStorage.getItem('myWords')) || [];
if(allWords.length === 0) { allWords = gold700.map(s => { let p = s.split(' - '); return {en: p[0].trim(), ru: p[1].trim()}; }); localStorage.setItem('myWords', JSON.stringify(allWords)); }

let queue = [], examList = [], currentItem = null, completedCount = 0, isExam = false, examScore = 0;
const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
if(recognition) recognition.lang = 'en-US';

function toggleTheme() { document.body.classList.toggle('dark'); }
function toggleModal(show) { document.getElementById('modal').style.display = show ? 'flex' : 'none'; if(show) document.getElementById('wordsInput').value = allWords.map(w => `${w.en} - ${w.ru}`).join('\n'); }
function saveSettings() { const text = document.getElementById('wordsInput').value; allWords = text.split('\n').map(l => l.split('-')).filter(p => p.length === 2).map(p => ({ en: p[0].trim(), ru: p[1].trim() })); localStorage.setItem('myWords', JSON.stringify(allWords)); toggleModal(false); }
function resetToDefault() { if(confirm("–°–±—Ä–æ—Å–∏—Ç—å —Å–ª–æ–≤–∞—Ä—å –∫ 700 –∑–æ–ª–æ—Ç—ã–º —Å–ª–æ–≤–∞–º? –í–∞—à–∏ –ø—Ä–∞–≤–∫–∏ —É–¥–∞–ª—è—Ç—Å—è.")) { allWords = gold700.map(s => { let p = s.split(' - '); return {en: p[0].trim(), ru: p[1].trim()}; }); localStorage.setItem('myWords', JSON.stringify(allWords)); toggleModal(false); } }
function speak(t, lang='en-US') { const m = new SpeechSynthesisUtterance(t); m.lang = lang; window.speechSynthesis.speak(m); }

function startSession() {
    isExam = false;
    examList = [...allWords].sort(() => 0.5 - Math.random()).slice(0, 10);
    queue = examList.map(w => ({ ...w, mode: Math.floor(Math.random() * 3) }));
    completedCount = 0;
    nextStep();
}

function nextStep() {
    if (queue.length === 0) { isExam ? finishExam() : offerExam(); return; }
    currentItem = queue[0];
    const card = document.getElementById('card');
    const controls = document.getElementById('controls');
    const inputArea = document.getElementById('input-area');
    const badge = document.getElementById('mode-badge');
    
    card.className = 'card';
    inputArea.style.display = 'none';
    document.getElementById('status').innerText = "";

    if (isExam) {
        badge.innerText = "üö® –≠–ö–ó–ê–ú–ï–ù (–ë–ï–ó –û–ó–í–£–ß–ö–ò)";
        document.getElementById('display-top').innerText = currentItem.ru;
        document.getElementById('display-bottom').innerText = "–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º";
        inputArea.style.display = 'block';
        document.getElementById('writingInput').value = '';
        document.getElementById('writingInput').focus();
        controls.innerHTML = `<button class="btn-full" style="background:var(--gold); color:black" onclick="checkExam()">–ü–†–û–í–ï–†–ò–¢–¨</button>`;
    } else {
        if (currentItem.mode === 0) { // –ò–∑—É—á–µ–Ω–∏–µ
            badge.innerText = "–ò–ó–£–ß–ï–ù–ò–ï";
            document.getElementById('display-top').innerText = currentItem.en;
            document.getElementById('display-bottom').innerText = currentItem.ru;
            controls.innerHTML = `<button class="btn-yes" onclick="handle(true)">–ü–û–ú–ù–Æ</button><button class="btn-no" onclick="handle(false)">–ù–ï –ü–û–ú–ù–Æ</button>`;
            speak(currentItem.en);
        } else if (currentItem.mode === 1) { // –ü—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ
            badge.innerText = "–ü–†–û–ò–ó–ù–û–®–ï–ù–ò–ï";
            document.getElementById('display-top').innerText = currentItem.ru;
            document.getElementById('display-bottom').innerText = "–ù–∞–∑–æ–≤–∏—Ç–µ —Å–ª–æ–≤–æ";
            controls.innerHTML = `<button class="btn-full" style="background:#8e44ad; color:white;" onclick="runSpeech()">üé§ –ì–û–í–û–†–ò–¢–¨</button>
                                  <button class="btn-no" style="grid-column: span 2" onclick="handle(false)">–ü–†–û–ü–£–°–¢–ò–¢–¨</button>`;
        } else { // –ü–∏—Å—å–º–æ
            badge.innerText = "–ü–ò–°–¨–ú–û (–ì–†–ê–ú–ú–ê–¢–ò–ö–ê)";
            document.getElementById('display-top').innerText = currentItem.ru;
            inputArea.style.display = 'block';
            document.getElementById('writingInput').value = '';
            document.getElementById('writingInput').focus();
            controls.innerHTML = `<button class="btn-full" onclick="checkWriting()">–ü–†–û–í–ï–†–ò–¢–¨</button>
                                  <button class="btn-no" style="grid-column: span 2" onclick="handle(false)">–ü–û–î–°–ö–ê–ó–ö–ê</button>`;
        }
    }
    updateProgress();
}

function handle(success) {
    if(success) {
        queue.shift();
        completedCount++;
        document.getElementById('card').classList.add('success');
        setTimeout(nextStep, 500);
    } else {
        let retry = queue.shift();
        retry.mode = Math.floor(Math.random()*3);
        queue.push(retry);
        document.getElementById('card').classList.add('fail');
        speak(currentItem.en);
        document.getElementById('status').innerText = `–ó–∞–ø–æ–º–Ω–∏–º: ${currentItem.en} - ${currentItem.ru}`;
        setTimeout(nextStep, 1800);
    }
}

function runSpeech() {
    recognition.start();
    document.getElementById('status').innerText = "–°–ª—É—à–∞—é...";
    recognition.onresult = (e) => {
        const text = e.results[0][0].transcript.toLowerCase();
        if(text.includes(currentItem.en.toLowerCase())) handle(true);
        else document.getElementById('status').innerText = `–£—Å–ª—ã—à–∞–ª: "${text}". –ï—â–µ —Ä–∞–∑?`;
    };
}

function checkWriting() {
    const val = document.getElementById('writingInput').value.trim().toLowerCase();
    if(val === currentItem.en.toLowerCase()) handle(true);
    else { alert(`–û—à–∏–±–∫–∞! –ü—Ä–∞–≤–∏–ª—å–Ω–æ: ${currentItem.en}`); handle(false); }
}

function checkExam() {
    const val = document.getElementById('writingInput').value.trim().toLowerCase();
    if(val === currentItem.en.toLowerCase()) { examScore++; document.getElementById('card').classList.add('success'); }
    else { document.getElementById('card').classList.add('fail'); alert(`–í–µ—Ä–Ω–æ –±—ã–ª–æ: ${currentItem.en}`); }
    queue.shift(); completedCount++; setTimeout(nextStep, 600);
}

function updateProgress() {
    const total = completedCount + queue.length;
    document.getElementById('progress').style.width = (completedCount / total * 100) + '%';
}

function offerExam() {
    document.getElementById('display-top').innerText = "–£—Ä–æ–∫ –û–∫–æ–Ω—á–µ–Ω";
    document.getElementById('display-bottom').innerText = "–ó–∞–∫—Ä–µ–ø–∏–º –∑–Ω–∞–Ω–∏—è —ç–∫–∑–∞–º–µ–Ω–æ–º?";
    document.getElementById('controls').innerHTML = `<button class="btn-exam" onclick="startExam()">üî• –ù–ê–ß–ê–¢–¨ –≠–ö–ó–ê–ú–ï–ù</button>
                                                      <button class="btn-no" style="grid-column: span 2" onclick="location.reload()">–ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ</button>`;
}

function startExam() { isExam = true; queue = [...examList]; completedCount = 0; examScore = 0; nextStep(); }
function finishExam() {
    document.getElementById('display-top').innerText = `${examScore} / 10`;
    document.getElementById('display-bottom').innerText = examScore > 7 ? "–ë–ª–µ—Å—Ç—è—â–µ!" : "–ù—É–∂–Ω–æ –µ—â–µ –ø–æ–ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è";
    document.getElementById('controls').innerHTML = `<button class="btn-full" onclick="startSession()">–ù–û–í–´–ô –£–†–û–ö</button>`;
}
</script>
</body>
</html>
